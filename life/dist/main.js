(()=>{"use strict";const e=function(){function e(e,t){this.color=e,this.x=t.x,this.y=t.y,this.velX=0,this.velY=0}return e.prototype.update=function(e){e.fillStyle=this.color,e.fillRect(this.x,this.y,10,10)},e}(),t=function(){function t(){this.canvas=document.getElementById("lifeGame"),this.ctx=this.canvas.getContext("2d"),this.elementsA=[],this.elementsB=[],this.elementsC=[],this.elementsD=[],this.elementsA=this.spawn(50,"yellow"),this.elementsB=this.spawn(50,"red"),this.elementsC=this.spawn(50,"blue"),this.elementsD=this.spawn(50,"white"),this.elementAtoA=document.querySelector("#elementAtoA"),this.elementAtoB=document.querySelector("#elementAtoB"),this.elementAtoC=document.querySelector("#elementAtoC"),this.elementBtoB=document.querySelector("#elementBtoB"),this.elementBtoA=document.querySelector("#elementBtoA"),this.elementCtoC=document.querySelector("#elementCtoC"),this.elementCtoB=document.querySelector("#elementCtoB"),this.speed=document.querySelector("#speed")}return t.prototype.update=function(){this.applyRelation(this.elementsA,this.elementsA,parseInt(this.elementAtoA.value)),this.applyRelation(this.elementsA,this.elementsB,parseInt(this.elementAtoB.value)),this.applyRelation(this.elementsB,this.elementsA,parseInt(this.elementAtoC.value)),this.applyRelation(this.elementsB,this.elementsC,parseInt(this.elementBtoB.value)),this.applyRelation(this.elementsA,this.elementsC,parseInt(this.elementCtoC.value)),this.applyRelation(this.elementsC,this.elementsA,parseInt(this.elementCtoB.value)),this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);var e=this.ctx;this.elementsA.forEach((function(t){t.update(e)})),this.elementsB.forEach((function(t){t.update(e)})),this.elementsC.forEach((function(t){t.update(e)})),this.elementsD.forEach((function(t){t.update(e)}))},t.prototype.applyRelation=function(e,t,n){for(var s=parseInt(this.speed.value),i=0;i<e.length;i++){for(var l=0,h=0,o=0;o<t.length;o++){var a=e[i],m=t[o],r=a.x-m.x,c=a.y-m.y,u=Math.sqrt(r*r+c*c);if(u>0&&u<80){var p=1*n/u;l+=p*r,h+=p*c}}a.velX=(a.velX+l)*(s/1e3),a.velY=(a.velY+h)*(s/1e3),a.x+=a.velX,a.y+=a.velY,(a.x<=0||a.x>=this.canvas.width)&&(a.velX*=-1),(a.y<=0||a.y>=this.canvas.height)&&(a.velY*=-1)}},t.prototype.spawn=function(t,n){for(var s=[],i=0;i<t;i++){var l={x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height};s.push(new e(n,l))}return s},t}();document.addEventListener("DOMContentLoaded",(function(){var e=new t;setInterval((function(){e.update()}),1e3/60)}))})();